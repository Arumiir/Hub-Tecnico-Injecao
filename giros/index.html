<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculadora de Giro</title>
<link rel="stylesheet" href="style.css">
<style>
body {
    background-color: #000000;
    color: #ffffff;
    font-family: 'Poppins', sans-serif;
    margin: 0;
    padding: 0;
    height: 100vh;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
}

/* Cabeçalho fixo */
.header {
    position: sticky;
    top: 0;
    background-color: #000;
    padding: 20px;
    z-index: 100;
    text-align: center;
    border-bottom: 1px solid #333;
}

.header h1 {
    margin: 0;
    font-size: 2.5em;
    text-transform: uppercase;
}

.header .intro {
    font-size: 1.2em;
    color: #eeeeee;
    margin-top: 10px;
    line-height: 1.4;
}

/* Conteúdo rolável */
.content {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
}

.container {
    width: 100%;
    max-width: 700px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.numero-bloco {
    background-color: #1a1a1a;
    padding: 20px;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.numero-bloco label {
    display: block;
    margin-top: 5px;
}

.numero-bloco input {
    width: 100%;
    padding: 10px;
    border: none;
    border-radius: 6px;
    background-color: #333;
    color: #fff;
    font-size: 1em;
}

.botao-grupo {
    display: flex;
    gap: 15px;
    margin-top: 10px;
    flex-wrap: wrap;
    justify-content: center;
}

.botao-grupo button {
    flex: 1;
    min-width: 120px;
}

button {
    background-color: #ffffff;
    color: #40444b;
    border: none;
    border-radius: 8px;
    padding: 12px 25px;
    font-size: 1.2em;
    cursor: pointer;
    transition: transform 0.2s ease, background-color 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

button:hover {
    background-color: #d0d0d0;
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(0,0,0,0.3);
}

button:active {
    transform: translateY(0);
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

.resultado {
    margin-top: 25px;
    padding: 25px;
    border-radius: 12px;
    background-color: #ffffff;
    color: #000;
    text-align: center;
    white-space: pre-wrap;
    font-weight: bold;
    font-size: 1.1em;
}
</style>
</head>
<body>

<div class="header">
    <h1>Calculadora de Giro</h1>
    <p class="intro" id="intro-msg">
        Adicione os números que deseja calcular e veja qual segura a hora.<br>
        Cada número representa um item da produção.<br>
        Preencha os campos corretamente antes de calcular.
    </p>
</div>

<div class="content">
    <div class="container" id="container-numeros">
        <!-- Blocos de números vão aparecer aqui -->
    </div>

    <div class="botao-grupo">
        <button onclick="adicionarNumero()">Adicionar Número</button>
        <button id="remover-btn" onclick="removerUltimoNumero()" style="display:none;">Remover Número</button>
        <button id="calcular-btn" onclick="calcularGiros()" style="display:none;">Calcular Giros</button>
    </div>

    <div class="resultado" id="resultado" style="display:none;"></div>
</div>

<script>
let numeroCount = 0;

function adicionarNumero() {
    // Desaparece a mensagem inicial
    const introMsg = document.getElementById('intro-msg');
    introMsg.style.display = 'none';

    numeroCount++;
    const container = document.getElementById('container-numeros');
    
    const div = document.createElement('div');
    div.className = 'numero-bloco';
    div.id = 'numero-' + numeroCount;

    div.innerHTML = `
        <label>Nome do Número/Item:</label>
        <input type="text" placeholder="Digite o número" id="nome-${numeroCount}" required>

        <label>Pares por Caixa Completa:</label>
        <input type="number" min="0" id="pares-${numeroCount}" required>

        <label>Quantidade de Caixas Completas:</label>
        <input type="number" min="0" id="caixas-${numeroCount}" required>

        <label>Pares da Última Caixa:</label>
        <input type="number" min="0" value="0" id="ultima-${numeroCount}" required>

        <label>Quantidade de Matrizes:</label>
        <input type="number" min="1" id="matrizes-${numeroCount}" required>
    `;
    container.appendChild(div);

    document.getElementById('remover-btn').style.display = 'inline-block';
    document.getElementById('calcular-btn').style.display = 'inline-block';
}

function removerUltimoNumero() {
    if(numeroCount > 0){
        const bloco = document.getElementById('numero-' + numeroCount);
        if(bloco) bloco.remove();
        numeroCount--;

        if(numeroCount === 0){
            document.getElementById('remover-btn').style.display = 'none';
            document.getElementById('calcular-btn').style.display = 'none';
            document.getElementById('resultado').style.display = 'none';
            document.getElementById('intro-msg').style.display = 'block';
        }
    }
}

function calcularGiros() {
    if(numeroCount === 0){
        alert('Adicione pelo menos um número!');
        return;
    }

    let resultados = [];
    let maxGiro = -Infinity;
    let numeroMaior = '';
    let nomeMaior = '';

    for(let i=1; i<=numeroCount; i++){
        const nome = document.getElementById('nome-'+i).value.trim() || `Número ${i}`;
        const pares = parseFloat(document.getElementById('pares-'+i).value);
        const caixas = parseFloat(document.getElementById('caixas-'+i).value);
        const ultima = parseFloat(document.getElementById('ultima-'+i).value);
        const matrizes = parseFloat(document.getElementById('matrizes-'+i).value);

        if(isNaN(pares) || isNaN(caixas) || isNaN(ultima) || isNaN(matrizes)){
            alert('Preencha todos os campos corretamente para o item: ' + nome);
            return;
        }

        let giro = ((pares*caixas)+ultima)/matrizes;

        const decimal = giro - Math.floor(giro);
        if(decimal >= 0.56){
            giro = Math.floor(giro) + 1;
        } else if(decimal < 0.5){
            giro = Math.floor(giro);
        } else {
            giro = Math.floor(giro);
        }

        resultados.push({nome: nome, giro: giro});
        if(giro > maxGiro){
            maxGiro = giro;
            numeroMaior = i;
            nomeMaior = nome;
        }
    }

    const resDiv = document.getElementById('resultado');
    resDiv.style.display = 'block';
    let texto = '';
    resultados.forEach(r=>{
        texto += `${r.nome}: Giro = ${r.giro}\n`;
    });
    texto += `\nNúmero que segura a hora: ${nomeMaior} (Giro = ${maxGiro})`;
    resDiv.textContent = texto;
}
</script>

</body>
</html>